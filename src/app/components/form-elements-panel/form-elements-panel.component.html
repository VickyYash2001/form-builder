<div class="space-y-4">
  <h2 class="text-xl font-semibold text-gray-800">
    {{selectedGroup ? selectedGroup.name : 'Select a group' }}</h2>

  <div *ngIf="!selectedGroup" class="text-center py-8 text-gray-800">
    Please select a field group from the left panel
  </div>

  <div *ngIf="selectedGroup" class="space-y-2">
    <div *ngIf="fields.length === 0"
      class="text-center py-8 text-gray-500 border-2 border-dashed border-gray-300 rounded-lg">
      Drag the elements from the rigth panel to add them to this group
    </div>
  </div>


  <div *ngFor="let field of fields; let i = index" [attr.data-id]="field.id" (click)="selectField(field.id)"
    [class.bg-blue-100]="selectedFieldId === field.id"
    class="p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition cursor-pointer">
    <div class="flex items-start gap-2">
      <div class="handle cursor-move p-1 text-gray-400 hover:text-gray-600">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd"
            d="M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"
            clip-rule="evenodd" />
        </svg>
      </div>
      <div class="flex-grow">
        <div class="font-medium text-gray-900">{{field.name || 'Unnamed field'}}</div>
        <div class="text-sm text-gray-500">{{field.type}}</div>
        <div *ngIf="field.description" class="text-xs text-gray-400 mt-1">{{field.description}}</div>
      </div>
      <button (click)="deleteField(field.id); $event.stopPropagation()" class="text-red-500 hover:text-red-700">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd"
            d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z"
            clip-rule="evenodd" />
        </svg>
      </button>
    </div>
  </div>
</div>
